# config path shows config.toml path
exec dh config path
stdout '\.dh.config\.toml'
! stderr .

# config set then get roundtrip
exec dh config set default_version 42.0
exec dh config get default_version
stdout '42\.0'
! stderr .

# config shows all values in human-readable mode
exec dh config
stdout 'default_version = 42\.0'
! stderr .

# config --json outputs valid JSON
exec dh config --json
stdout '\{'
stdout '"default_version"'
! stderr .

# config get nonexistent key exits 1
! exec dh config get nonexistent_key
stderr 'unknown config key'
